"use strict";(self.webpackChunkkta_engoo=self.webpackChunkkta_engoo||[]).push([[560],{1560:(e,n,t)=>{t.r(n),t.d(n,{default:()=>y});var a=t(296),r=t(5458),s=t(4914),i=t(1450),c=t(1469),u=t(5323),o=t(3581),l=t(5185),m=t(4235),d=t(7610),f=t(6298),v=t(3980),p=t(6026),g=(t(5316),t(4848)),h=new Audio(i),x=new Audio(c),j=new Audio(d),k=new Audio(f);h.loop=!0;var N={easy:[[5,3,4,6,7,8,9,1,2],[6,7,2,1,9,5,3,4,8],[1,9,8,3,4,2,5,6,7],[8,5,9,7,6,1,4,2,3],[4,2,6,8,5,3,7,9,1],[7,1,3,9,2,4,8,5,6],[9,6,1,5,3,7,2,8,4],[2,8,7,4,1,9,6,3,5],[3,4,5,2,8,6,1,7,9]],medium:[[8,2,7,1,5,4,3,9,6],[9,6,5,3,2,7,1,4,8],[3,4,1,6,8,9,7,5,2],[5,9,3,4,6,8,2,7,1],[4,7,2,5,1,3,6,8,9],[6,1,8,9,7,2,4,3,5],[7,8,6,2,3,5,9,1,4],[1,5,4,7,9,6,8,2,3],[2,3,9,8,4,1,5,6,7]],hard:[[1,4,7,3,6,9,8,2,5],[6,8,9,7,5,2,4,1,3],[2,5,3,4,1,8,6,7,9],[5,9,8,6,2,7,3,4,1],[3,7,6,8,9,1,5,2,4],[4,1,2,5,3,7,9,6,8],[9,6,1,2,4,5,7,3,8],[7,3,5,9,8,6,2,1,4],[8,2,4,1,7,3,5,9,6]]},A=function(e){var n=(0,r.A)(N[e].map((function(e){return(0,r.A)(e)})));return{puzzleBoard:n.map((function(e){return e.map((function(e){return Math.random()<.5?e:null}))})),solutionBoard:n}};const y=function(){var e=(0,s.useState)([]),n=(0,a.A)(e,2),t=n[0],r=n[1],i=(0,s.useState)([]),c=(0,a.A)(i,2),d=c[0],f=c[1],N=(0,s.useState)(null),y=(0,a.A)(N,2),b=y[0],S=y[1],w=(0,s.useState)(!1),C=(0,a.A)(w,2),E=C[0],O=C[1],M=(0,s.useState)("playing"),T=(0,a.A)(M,2),z=T[0],B=T[1],I=(0,s.useState)(0),F=(0,a.A)(I,2),_=F[0],G=F[1],H=(0,s.useState)("easy"),L=(0,a.A)(H,2),q=L[0],D=L[1],J=(0,s.useState)(300),K=(0,a.A)(J,2),P=K[0],Q=K[1],R=(0,s.useState)(!1),U=(0,a.A)(R,2),V=U[0],W=U[1],X=(0,s.useState)(0),Y=(0,a.A)(X,2),Z=(Y[0],Y[1]);(0,s.useEffect)((function(){return h.play(),E&&h.pause(),function(){return h.pause()}}),[E]),(0,s.useEffect)((function(){t.length>0&&ee()&&(B("gameOver"),x.play())}),[t]),(0,s.useEffect)((function(){var e=t.flat().filter((function(e){return null===e})).length;Z(e)}),[]),(0,s.useEffect)((function(){ne()}),[t]),(0,s.useEffect)((function(){var e;return"playing"===z&&P>0?e=setInterval((function(){Q((function(e){return Math.max(0,e-1)}))}),1e3):0===P&&G(0),function(){return clearInterval(e)}}),[z,P]),(0,s.useEffect)((function(){var e=A(q),n=e.puzzleBoard,t=e.solutionBoard;r(n),f(t)}),[q]),(0,s.useEffect)((function(){"gameOver"===z&&$(x)}),[z]),(0,s.useEffect)((function(){if("gameOver"===z){var e="easy"===q?1:"medium"===q?2:3;console.log("Game Over"),console.log("Final Score: ",_),console.log("Time Taken: ",P/10),console.log("Level: ",e);var n={type:"levelComplete",data:{level:e,timeTaken:P/10,points:_}};window.parent.postMessage(n,"*")}}),[z,P,_,q]);var $=function(e){e.muted=!1,e.play()},ee=function(){if(!d||0===d.length)return!1;for(var e=0;e<9;e++)for(var n=0;n<9;n++)if(null===t[e][n]||t[e][n]!==d[e][n])return!1;return G(0===P?0:{easy:50,medium:70,hard:100}[q]),B("gameOver"),x.play(),!0},ne=function(){if(!d||0===d.length)return 0;for(var e=0,n=0;n<9;n++)for(var a=0;a<9;a++)null!==t[n][a]&&t[n][a]===d[n][a]&&e++;return Math.round(e/81*100)},te=function(e){D(e);var n=A(e),t=n.puzzleBoard,a=n.solutionBoard;r(t),f(a),Q({easy:300,medium:420,hard:600}[e])};return(0,g.jsx)("div",{className:"game-container",children:"gameOver"===z?(0,g.jsxs)("div",{className:"final-score-container",children:[(0,g.jsx)("img",{src:u,alt:"Final Score",className:"final-score-image"}),(0,g.jsx)("div",{className:"final-score",children:(0,g.jsx)("p",{children:_})})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("img",{src:o,alt:"Additional Control",className:"top-left-gif",onClick:function(){return W(!0)}}),V&&(0,g.jsxs)("div",{className:"second-image-container",children:[(0,g.jsx)("button",{className:"close-button",onClick:function(){return W(!1)},children:"âœ–"}),(0,g.jsx)("img",{src:p,alt:"Second Image",className:"second-image"})]}),(0,g.jsx)("div",{className:"mute-button",children:(0,g.jsx)("img",{src:E?m:l,alt:"Mute Toggle",onClick:function(){O(!E),h.muted=!h.muted}})}),(0,g.jsxs)("div",{className:"difficulty-selection",children:[(0,g.jsx)("button",{onClick:function(){return te("easy")},children:"Easy"}),(0,g.jsx)("button",{onClick:function(){return te("medium")},children:"Medium"}),(0,g.jsx)("button",{onClick:function(){return te("hard")},children:"Hard"})]}),(0,g.jsx)("div",{className:"sudoku-container",children:(0,g.jsx)("div",{className:"sudoku-grid",children:t.map((function(e,n){return(0,g.jsx)("div",{className:"sudoku-row",children:e.map((function(e,t){return(0,g.jsx)("div",{className:"sudoku-cell ".concat(b&&b.row===n&&b.col===t?"selected":""),onClick:function(){return function(e,n){S({row:e,col:n})}(n,t)},children:e?(0,g.jsx)("img",{src:v.A[q][e],alt:"Tamil ".concat(e),className:"tamil-tile"}):(0,g.jsx)("div",{className:"empty-cell"})},t)}))},n)}))})}),(0,g.jsx)("div",{className:"number-selection-box",children:Object.keys(v.A[q]).map((function(e){return(0,g.jsxs)("div",{className:"number-wrapper",children:[(0,g.jsx)("span",{className:"number-label",children:e}),(0,g.jsx)("img",{src:v.A[q][e],alt:"Tamil ".concat(e),className:"number-option",onClick:function(){return function(e){if(b){var n=b.row,a=b.col,s=t.map((function(t,r){return t.map((function(t,s){return r===n&&s===a?e:t}))}));r(s),S(null),e===d[n][a]?$(j):$(k),setTimeout((function(){ee()&&(B("gameOver"),$(x))}),100)}}(parseInt(e))}})]},e)}))}),(0,g.jsxs)("div",{className:"timer-container",children:[Math.floor(P/60),":",String(P%60).padStart(2,"0")]})]})})}}}]);